---
layout: default
---

<h2>Caches</h2>

<p>Caches cache generated images on the server. Caches are pluggable, to enable different caching mechanisms. (Currently, <a href="#FilesystemCache">FilesystemCache</a> is the only implementation.) Expired files are replaced the next time they are requested.</p>

<p>Currently, requests for full-sized, un-altered source images are not cached, and are instead streamed through with no processing.</p>

<h3 id="FilesystemCache">FilesystemCache</h3>

<p>FilesystemCache caches generated images and (parts of) information requests into a filesystem directory. The location of this directory is configurable, as is the "time-to-live" of the cache files.</p>

<h3 id="Flushing">Flushing the Cache</h3>

<p>To flush expired images only, start Cantaloupe with the <code>-Dcantaloupe.cache.flush_expired</code> option.</p>

<p>To flush all images, start Cantaloupe with the <code>-Dcantaloupe.cache.flush</code> option.</p>

<h3 id="Considerations">Considerations</h3>

<p>Caching is tremendously effective at improving performance, but it does not quite reduce load to zero. Consider a caching reverse proxy if massive traffic is anticipated.</p>

<p>Cantaloupe does not cache entire information response representations &mdash; only image dimensions, which are the only expensive part to generate. This means it is possible to change other variables that might affect the contents of the representation (like processors) without having to flush the cache.</p>

<p>Cantaloupe caches response representations only --  not the entire request process. Requests are validated and resources are looked up before cached responses are returned. This precludes returning a cached resource representation when the underlying resource has actually gone missing, but also impairs response times by typically several tens of milliseconds.</p>
